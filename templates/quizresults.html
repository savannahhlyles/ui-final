{% extends "layout.html" %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <!-- LEFT: iPad-style results -->
    <div class="col-md-6 d-flex justify-content-center">
      <div class="ipad-frame-result text-center p-4 w-100">
        <h2 class="score-label">Your Score</h2>
        <h1 class="score-value">{{ score }}<span class="score-total">/ {{ total }}</span></h1>
        <hr>
        <div class="result-list text-left mt-4">
          {% for q in summary %}
            <div class="question-result mb-3">
              <div class="d-flex justify-content-between align-items-center">
                <strong>Question {{ q.id }}:</strong>
                {% if q.correct %}
                  <span class="text-success result-icon">✅</span>
                {% else %}
                  <span class="text-danger result-icon">❌</span>
                {% endif %}
              </div>

              <!-- Question text -->
              <div class="text-muted small mt-1">
                {{ q.text }}
              </div>

              <!-- Correct answer -->
              <div class="small mt-1">
                <strong>Correct Answer:</strong>
                {% if q.correct_answer is mapping %}
                  <ul class="mb-0">
                    {% for key, value in q.correct_answer.items() %}
                      <li>{{ key }}: {{ value }}</li>
                    {% endfor %}
                  </ul>
                {% else %}
                  {{ q.correct_answer }}
                {% endif %}
              </div>
            </div>
          {% endfor %}
        </div>
            <!-- RIGHT: Buttons -->
            <div class="button-row">
              <div class="d-flex flex-row gap-3 flex-wrap justify-content-center">
                <a href="{{ url_for('learn') }}" class="btn btn-accent btn-lg me-3">REVIEW BRUSHES</a>
                <a href="{{ url_for('quiz') }}" class="btn btn-accent btn-lg">RETAKE QUIZ</a>
                <a href="{{ url_for('procreate') }}" class="btn btn-accent btn-lg">PROCREATE INTERFACE</a>
              </div>
            </div>
            
      </div>
  
    </div>


  </div>
</div>
{% endblock %}
